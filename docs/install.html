<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>nlmixr: an R package for population PKPD modeling</title>
  <meta name="description" content="This is the start of setting up a user’s guide and reference manual for nlmixr">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="nlmixr: an R package for population PKPD modeling" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the start of setting up a user’s guide and reference manual for nlmixr" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="nlmixr: an R package for population PKPD modeling" />
  
  <meta name="twitter:description" content="This is the start of setting up a user’s guide and reference manual for nlmixr" />
  

<meta name="author" content="Matthew Fidler, Teun M. Post, Richard Hooijmaijers, Rik Schoemaker, Mirjam N. Trame, Justin Wilkins, Yuan Xiong and Wenping Wang">


<meta name="date" content="2018-05-24">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="intro.html">
<link rel="next" href="vignettes.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">nlmixr User's guide and Reference Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to population modeling in R</a></li>
<li class="chapter" data-level="" data-path="preface-the-road-so-far.html"><a href="preface-the-road-so-far.html"><i class="fa fa-check"></i>Preface: The Road So Far</a><ul>
<li class="chapter" data-level="" data-path="preface-the-road-so-far.html"><a href="preface-the-road-so-far.html#about-this-book"><i class="fa fa-check"></i>About this book</a></li>
<li class="chapter" data-level="" data-path="preface-the-road-so-far.html"><a href="preface-the-road-so-far.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#prereq"><i class="fa fa-check"></i><b>1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#workflow"><i class="fa fa-check"></i><b>1.2</b> Workflow</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>2</b> Installation</a><ul>
<li class="chapter" data-level="2.1" data-path="install.html"><a href="install.html#nlmixr"><i class="fa fa-check"></i><b>2.1</b> <code>nlmixr</code></a><ul>
<li class="chapter" data-level="2.1.1" data-path="install.html"><a href="install.html#windows-installer"><i class="fa fa-check"></i><b>2.1.1</b> Windows installer</a></li>
<li class="chapter" data-level="2.1.2" data-path="install.html"><a href="install.html#installation-on-windows"><i class="fa fa-check"></i><b>2.1.2</b> Installation on Windows</a></li>
<li class="chapter" data-level="2.1.3" data-path="install.html"><a href="install.html#installation-on-linux"><i class="fa fa-check"></i><b>2.1.3</b> Installation on Linux</a></li>
<li class="chapter" data-level="2.1.4" data-path="install.html"><a href="install.html#installation-on-macos"><i class="fa fa-check"></i><b>2.1.4</b> Installation on macOS</a></li>
<li class="chapter" data-level="2.1.5" data-path="install.html"><a href="install.html#installation-via-docker"><i class="fa fa-check"></i><b>2.1.5</b> Installation via Docker</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="install.html"><a href="install.html#project-management-tool-shinymixr"><i class="fa fa-check"></i><b>2.2</b> project management tool (<code>shinyMixR</code>)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="vignettes.html"><a href="vignettes.html"><i class="fa fa-check"></i><b>3</b> <code>nlmixr</code> vignettes</a><ul>
<li class="chapter" data-level="3.1" data-path="vignettes.html"><a href="vignettes.html#nlmixr-domain-specific-language"><i class="fa fa-check"></i><b>3.1</b> <code>nlmixr</code> domain specific language</a><ul>
<li class="chapter" data-level="3.1.1" data-path="vignettes.html"><a href="vignettes.html#rationale"><i class="fa fa-check"></i><b>3.1.1</b> Rationale</a></li>
<li class="chapter" data-level="3.1.2" data-path="vignettes.html"><a href="vignettes.html#some-examples"><i class="fa fa-check"></i><b>3.1.2</b> Some examples</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="vignettes.html"><a href="vignettes.html#xpose"><i class="fa fa-check"></i><b>3.2</b> <code>xpose.nlmixr</code></a><ul>
<li class="chapter" data-level="3.2.1" data-path="vignettes.html"><a href="vignettes.html#introduction"><i class="fa fa-check"></i><b>3.2.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2.2" data-path="vignettes.html"><a href="vignettes.html#getting-started"><i class="fa fa-check"></i><b>3.2.2</b> Getting started</a></li>
<li class="chapter" data-level="3.2.3" data-path="vignettes.html"><a href="vignettes.html#overview"><i class="fa fa-check"></i><b>3.2.3</b> Overview</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="vignettes.html"><a href="vignettes.html#interface"><i class="fa fa-check"></i><b>3.3</b> <code>shinyMixR</code></a><ul>
<li class="chapter" data-level="3.3.1" data-path="vignettes.html"><a href="vignettes.html#introduction-1"><i class="fa fa-check"></i><b>3.3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.3.2" data-path="vignettes.html"><a href="vignettes.html#getting-started-1"><i class="fa fa-check"></i><b>3.3.2</b> Getting started</a></li>
<li class="chapter" data-level="3.3.3" data-path="vignettes.html"><a href="vignettes.html#overview-1"><i class="fa fa-check"></i><b>3.3.3</b> Overview</a></li>
<li class="chapter" data-level="3.3.4" data-path="vignettes.html"><a href="vignettes.html#edit-models"><i class="fa fa-check"></i><b>3.3.4</b> Edit models</a></li>
<li class="chapter" data-level="3.3.5" data-path="vignettes.html"><a href="vignettes.html#run-models"><i class="fa fa-check"></i><b>3.3.5</b> Run models</a></li>
<li class="chapter" data-level="3.3.6" data-path="vignettes.html"><a href="vignettes.html#parameter-estimates"><i class="fa fa-check"></i><b>3.3.6</b> Parameter estimates</a></li>
<li class="chapter" data-level="3.3.7" data-path="vignettes.html"><a href="vignettes.html#goodness-of-fit"><i class="fa fa-check"></i><b>3.3.7</b> Goodness-of-fit</a></li>
<li class="chapter" data-level="3.3.8" data-path="vignettes.html"><a href="vignettes.html#fit-plots"><i class="fa fa-check"></i><b>3.3.8</b> Fit plots</a></li>
<li class="chapter" data-level="3.3.9" data-path="vignettes.html"><a href="vignettes.html#scripts"><i class="fa fa-check"></i><b>3.3.9</b> Scripts</a></li>
<li class="chapter" data-level="3.3.10" data-path="vignettes.html"><a href="vignettes.html#results"><i class="fa fa-check"></i><b>3.3.10</b> Results</a></li>
<li class="chapter" data-level="3.3.11" data-path="vignettes.html"><a href="vignettes.html#interactive-session"><i class="fa fa-check"></i><b>3.3.11</b> Interactive session</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>4</b> Applications of <code>nlmixr</code></a><ul>
<li class="chapter" data-level="4.1" data-path="applications.html"><a href="applications.html#posters-and-presentations"><i class="fa fa-check"></i><b>4.1</b> Posters and Presentations</a></li>
<li class="chapter" data-level="4.2" data-path="applications.html"><a href="applications.html#sparse-data-analysis-with-nlmixr"><i class="fa fa-check"></i><b>4.2</b> Sparse data analysis with <code>nlmixr</code></a><ul>
<li class="chapter" data-level="4.2.1" data-path="applications.html"><a href="applications.html#examination-of-nlmixr-estimation-algorithm-properties-for-sparse-sample-data"><i class="fa fa-check"></i><b>4.2.1</b> Examination of <code>nlmixr</code> estimation algorithm properties for sparse sample data</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="applications.html"><a href="applications.html#course-page-2018"><i class="fa fa-check"></i><b>4.3</b> Course: PAGE 2018</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><code>nlmixr</code>: an R package for population PKPD modeling</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="install" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Installation</h1>
<p><code>nlmixr</code> can be installed and used on several platforms. Installation can range from easy to challenging, depending on the platform. We are in the process of streamlining this process, and any help or suggestions are greatly appreciated!</p>
<!-- Windows installer -->
<div id="nlmixr" class="section level2">
<h2><span class="header-section-number">2.1</span> <code>nlmixr</code></h2>
<div id="windows-installer" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Windows installer</h3>
<p>For those not interested in customized installation on Windows, we <strong>recommend</strong> you download a Windows installer for your platform from the following <a href="https://github.com/nlmixrdevelopment/nlmixr/releases/tag/v0.9.0-2">link</a></p>
<!-- Windows installation -->
</div>
<div id="installation-on-windows" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Installation on Windows</h3>
<p>To replicate the environment for <code>nlmixr</code> development on Windows, you may need administrator rights. The following steps should be performed:</p>
<ol style="list-style-type: decimal">
<li>Install R 3.4.1 (or later - we recommend 3.5.0, and will assume this in the rest of these instructions) from the R website.</li>
</ol>
<ul>
<li>For best results, we suggest you use <code>C:\R\R-3.5.0</code>, but you can also use the default location (<code>C:\Program Files\R\R-3.5.0</code>) as well, if really needed. If writing to C:\ is not allowed, another option could be to install to <code>%AppData%</code>, which is typically in <code>C:\Users\userName\AppData\</code>. Most users have write access to this location.</li>
<li>When installing on 64-bit Windows, it is best practice to include <em>only</em> the 64-bit version. If you include 32-bit files, some packages may not run correctly. Additionally, both the 32- and 64-bit binaries have to be compiled for every package. Similarly, if running on 32-bit Windows, install only the 32-bit version of R (and Python, and Rtools).
<ul>
<li>Using “Program Files” may lead to difficulties because paths with spaces are not always supported by all R packages and typically the “Program Files” directory is read-only, which has also been known to cause problems. We do not recommend this.</li>
</ul></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Install the appropriate version of Rtools for Windows, currently version 3.4, from <a href="https://cran.r-project.org/bin/windows/Rtools/">here</a>.</li>
</ol>
<ul>
<li>This is an absolute requirement, since it includes <code>C++</code> and related compilers not usually available under Windows. Further, alternative toolsets installed from other sources may not work correctly.</li>
<li>For best results, use the default location of <code>C:\Rtools</code>
<ul>
<li><code>RxODE</code>, a required component of <code>nlmixr</code>, checks and sets up the path based on the following:
<ol style="list-style-type: lower-alpha">
<li><code>Rtools</code> is in the path (fastest and recommended option)</li>
<li><code>Rtools</code> was installed with information saved to the Windows registry, and <code>RxODE</code> can find the installation.</li>
<li><code>Rtools</code> is on a hard drive installed in either <code>Rtools</code> or <code>RBuildTools</code></li>
</ol></li>
<li>If you are on 64-bit windows, please <em>do not install</em> the R 3.3.x 32-bit toolchain. These files can interfere with some packages that compile binaries, with unpredictable consequences. Similarly, only install 32-bit Rtools on 32-bit versions of Windows.</li>
</ul></li>
<li>Make sure the compilers have been added to the Windows <code>PATH</code> environment variable, or <code>RxODE</code> and <code>nlmixr</code> may not work (this should be done automatically during installation). Under Windows, this is not strictly necessary, rather <code>RxODE</code> finds the paths and sets them up if they are not in the path environment. However, it is good practice.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Install a version of Python for Windows.</li>
</ol>
<ul>
<li>This is used for its symbolic algebra package <a href="http://sympy.org/">SymPy</a>.</li>
<li>A very robust Python distribution that includes <a href="http://sympy.org/">SymPy</a> and many packages that may be useful to the data scientist and/or pharmacometrician is <a href="https://www.anaconda.com/download/">Anaconda</a>. Although very straightforward and easy to install, it is quite a large download and contains much more than you will need to run <code>nlmixr</code>. When installing, use the Python 3.6 version. During the installation, Anaconda provides the option of adding itself to the <code>PATH</code> environment variable, but advises against it; please do this anyway (despite the red warning).</li>
<li>Another option is to use <a href="http://python.org">official Python</a>, although you will need to install <a href="http://sympy.org/">SymPy</a> separately if you go this route, which is sometimes not straightforward under Windows 10 owing to folder permissions (see <a href="https://stackoverflow.com/questions/31172719/pip-install-access-denied-on-windows">here</a> for a few workarounds). Nonetheless, see <a href="http://simpy.readthedocs.io/en/latest/simpy_intro/installation.html">here</a> for instructions for installation from source or using <code>pip</code>. Note that if you approach us for support, we are going to recommend that you use <a href="https://www.anaconda.com/download/">Anaconda</a>.</li>
<li>Regardless of the option you choose, please use 64-bit Python for 64-bit Windows (or vice versa for 32-bit).</li>
<li>Once again, make sure Python has been added to the Windows <code>PATH</code> environment variable, or <code>RxODE</code> and <code>nlmixr</code> will not work, no matter what Anaconda might say.<br />
</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Install <code>devtools</code>.</li>
</ol>
<ul>
<li>This package is required to install packages from GitHub, amongst other things.</li>
<li>This can be done from a clean R session by <code>install.packages(&quot;devtools&quot;)</code>.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Load <code>devtools</code> using <code>library(devtools)</code>.</li>
<li>Install <code>RxODE</code>.</li>
</ol>
<ul>
<li>Currently the new version of <code>RxODE</code> is in the process of being uploaded to CRAN. <code>nlmixr</code> needs this newer version of <code>RxODE</code> to function correctly. To install this version, use the command: <code>install_github(&quot;nlmixrdevelopment/RxODE&quot;)</code>.</li>
<li>Once installed, type <code>RxODE::rxWinPythonSetup()</code> to install the required package <code>SnakeCharmR</code> and to make sure Python and SymPy are working properly.</li>
<li>Restart your R session.</li>
<li>As a quick test, you can make sure that R and Python can communicate by typing the command <code>library(SnakeCharmR)</code>. This will will display the version of python you are using.</li>
<li>Another test to make sure that <code>SymPy</code> is setup appropriately is to do <code>library(RxODE)</code> and <code>rxSymPyVersion()</code>. This will display the <code>SymPy</code> version.</li>
<li>To validate or test the installation of <code>RxODE</code> completely, you can type the following <code>library(RxODE); rxTest()</code> and it will run all of the unit tests in RxODE to make sure it is running correctly on your system. (Note that the <code>testthat</code> package is required for this, and it will take a long time.) For a short test use <code>rxTest(FALSE)</code>.</li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>Install <code>nlmixr</code>.</li>
</ol>
<ul>
<li>Load <code>devtools</code> again using <code>library(devtools)</code></li>
<li>Install <code>nlmixr</code> by running <code>install_github(&quot;nlmixrdevelopment/nlmixr&quot;)</code></li>
</ul>
<!-- Linux installation -->
</div>
<div id="installation-on-linux" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Installation on Linux</h3>
<p>Instructions for Ubuntu-alike distributions are given here (specifically, <a href="http://releases.ubuntu.com/16.04/">Ubuntu 16.04 Xenial Xerus</a>), but all current Linux distributions are supported, in principle.</p>
<ol style="list-style-type: decimal">
<li>Install R 3.4.1 (or later - we recommend 3.5.0) from an appropriate repository (Ubuntu Xenial shown below, based on instructions provided <a href="https://www.digitalocean.com/community/tutorials/how-to-install-r-on-ubuntu-16-04-2">here</a>).</li>
</ol>
<ul>
<li>You will need administrator privileges (i.e. access to <code>sudo</code>). Provide your admin password when asked.</li>
<li>Add the official CRAN repository for Ubuntu: <code>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9</code></li>
<li>Add the official CRAN repository for Ubuntu: <code>sudo add-apt-repository 'deb [arch=amd64,i386] https://cran.rstudio.com/bin/linux/ubuntu xenial/'</code>. If you aren’t using Ubuntu Xenial, change <code>xenial</code> to match your distribution’s codename.</li>
<li>Now refresh the package list using <code>sudo apt-get update</code>.</li>
<li>We can now install base R and required development libraries, and their dependencies: <code>sudo apt-get install r-base r-base-dev libssl-dev</code></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Install Python dependencies.</li>
</ol>
<ul>
<li>Enter this: <code>sudo apt-get install python-sympy python-pip python-setuptools python3-pip python-dev python3-dev</code>.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Install <code>devtools</code> and dependencies.</li>
</ol>
<ul>
<li>This package is required to install packages from Github, amongst other things.</li>
<li>Some Linux distributions don’t include build tools out of the box. To be safe, check this: <code>sudo apt-get install build-essential</code></li>
<li>Install <code>devtools</code> from a clean R session by entering <code>install.packages(&quot;devtools&quot;)</code>.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>In R, load <code>devtools</code> using <code>library(devtools)</code>.</li>
<li>Install <code>RxODE</code>.</li>
</ol>
<ul>
<li>Currently the new version of <code>RxODE</code> is in the process of being uploaded to CRAN. <code>nlmixr</code> needs this newer version of <code>RxODE</code> to function correctly. To install this version, use the command: <code>install_github(&quot;nlmixrdevelopment/RxODE&quot;)</code>.</li>
<li>Install <code>SnakeCharmR</code> using <code>install_github(&quot;nlmixrdevelopment/SnakeCharmR&quot;)</code>.</li>
<li>Restart your R session.</li>
<li>As a quick test, you can make sure that R and Python can communicate by typing the command <code>library(SnakeCharmR)</code>. This will will display the version of python you are using.</li>
<li>Another test to make sure that <code>SymPy</code> is setup appropriately is to do <code>library(RxODE)</code> and <code>rxSymPyVersion()</code>. This will display the <code>SymPy</code> version.</li>
<li>To validate or test the installation of <code>RxODE</code> completely, you can type the following <code>library(RxODE); rxTest()</code> and it will run all of the unit tests in RxODE to make sure it is running correctly on your system. (Note that the <code>testthat</code> package is required for this, and it will take a long time.) For a short test use <code>rxTest(FALSE)</code>.</li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>Install <code>nlmixr</code>.</li>
</ol>
<ul>
<li>This can be done by <code>install_github(&quot;nlmixrdevelopment/nlmixr&quot;)</code></li>
</ul>
<!-- macOS installation  -->
<!-- ### Installation on macOS -->
<!-- Instructions for macOS 10.12 Sierra are provided here. They should be broadly extensible to all recent releases of macOS, however. -->
<!-- 1. Install R 3.4.1 (or later) from the R website. -->
<!--    - Download and install `R-3.4.1.pkg` (or later) from [CRAN](http://cran.r-project.org/bin/macosx/). -->
<!-- 2. Install Python dependencies. -->
<!--    - Install `pip` from the macOS terminal prompt: `sudo easy_install pip`. -->
<!--    - Install `sympy` using `pip`: `sudo -H pip install sympy`. -->
<!-- 3. Install `devtools` and dependencies. -->
<!--    - This package is required to install packages from Github, amongst other things. -->
<!--    - Install `devtools` from a clean R session by entering `install.packages("devtools")`. -->
<!-- 4. In R, load `devtools` using `library(devtools)`. -->
<!-- 5. Install build tools. -->
<!--    - Install Xcode from the App Store.  -->
<!--    - Read the license by entering the following at the macOS terminal: -->
<!--      `sudo xcodebuild -license` -->
<!--    - Scroll through it all, reading it carefully, and type `agree` at the end. (If you don't, you can't use `nlmixr` or anything else that requires compilation on macOS. Don't yell at us, yell at Apple.)  -->
<!--    - Install `gfortran`: download the appropriate macOS installer from [here](https://gcc.gnu.org/wiki/GFortranBinaries) and run it. -->
<!-- 6. Install `RxODE`. -->
<!--    - Currently the new version of `RxODE` is in the process of being -->
<!--      uploaded to CRAN.  `nlmixr` needs this newer version of `RxODE` to -->
<!--      function correctly. To install this version, use the command: -->
<!--      `install_github("nlmixrdevelopment/RxODE")`. -->
<!--    - Install `SnakeCharmR` using `install_github("nlmixrdevelopment/SnakeCharmR")`. -->
<!--    - Restart your R session. -->
<!--    - As a quick test, you can make sure that R and Python can -->
<!--      communicate by typing the command `library(SnakeCharmR)`. -->
<!--    - To validate or test the installation of `RxODE` completely, you -->
<!--      can type the following `library(RxODE); rxTest();` and it will -->
<!--      run all of the unit tests in RxODE to make sure it is running -->
<!--      correctly on your system. (Note that the `testthat` package is required for this, and it will take a long time.) -->
<!-- 7. Install `nlmixr`. -->
<!--    - This can be done by `install_github("nlmixrdevelopment/nlmixr")` -->
</div>
<div id="installation-on-macos" class="section level3">
<h3><span class="header-section-number">2.1.4</span> Installation on macOS</h3>
<p>Instructions for macOS 10.12 Sierra are provided here. They should be broadly extensible to all recent releases of macOS.</p>
<p>The general logic is to first install any external software and then install the R packages.</p>
<ol style="list-style-type: decimal">
<li>Check the Python version in the terminal: python –version. On maxOS the standard version is 2.7, which is used by <code>nlmixr</code>. If there are other versions of Python available, set the $PATH to the 2.7 version and/or remove other versions of Python, if possible (this step can be a challenge).</li>
<li>Install R 3.4.1 (or later - we recommend 3.5.0, and will assume this in the rest of these instructions) from the R website.</li>
</ol>
<ul>
<li>Download and install the appropriate R package (e.g. <code>R-3.5.0.pkg</code>) from <a href="http://cran.r-project.org/bin/macosx/">CRAN</a>.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Install Python dependencies.</li>
</ol>
<ul>
<li>Install <code>pip</code> from the macOS or RStudio terminal prompt: <code>sudo easy_install pip</code>.</li>
<li>Install <code>sympy</code> using <code>pip</code>: <code>sudo -H pip install sympy</code>.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Install build tools.</li>
</ol>
<ul>
<li>Install Xcode from the App Store (see which version matches your MacOS if you do not want to upgrade to the latest OS).</li>
<li>Read the license by entering the following at the macOS terminal: <code>sudo xcodebuild -license</code></li>
<li>Scroll through it all, reading it carefully, and type <code>agree</code> at the end. (If you don’t, you can’t use <code>nlmixr</code> or anything else that requires compilation on macOS. Don’t yell at us, yell at Apple.)</li>
<li>Install <code>gfortran</code>: download the appropriate macOS installer from <a href="https://gcc.gnu.org/wiki/GFortranBinaries">here</a> and run it. Another option is to run the installation for the approriate macOS version from the terminal by typing: <code>brew cask install gfortran</code> to <a href="https://twitter.com/opencpu/status/924608631110332421?s=03">automatically install the version of gfortran</a> on macOS needed by R from the Terminal (Mac or RStudio). Another option is to use the Mac build tools, which are the <a href="https://cran.r-project.org/bin/macosx/tools/">Mac equivalent of Rtools</a>. With R 3.5, this includes <code>clang6</code>, which has open mp support required for threaded/parallel <code>RxODE</code> solving.</li>
</ul>
<p>Now install the required R packages:</p>
<ol start="5" style="list-style-type: decimal">
<li>Install <code>devtools</code> and dependencies.</li>
</ol>
<ul>
<li>This package is required to install packages from GitHub, amongst other things.</li>
<li>Install <code>devtools</code> from a clean R session by entering <code>install.packages(&quot;devtools&quot;)</code>.</li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>In R, load <code>devtools</code> using <code>library(devtools)</code>.</li>
<li>Install <code>RxODE</code>.</li>
</ol>
<ul>
<li>Currently the new version of <code>RxODE</code> is in the process of being uploaded to CRAN. <code>nlmixr</code> needs this newer version of <code>RxODE</code> to function correctly. To install this version, use the command: <code>install_github(&quot;nlmixrdevelopment/RxODE&quot;)</code> or use <code>install.packages('RxODE')</code>.</li>
<li>Install <code>SnakeCharmR</code> using <code>install_github(&quot;nlmixrdevelopment/SnakeCharmR&quot;)</code>.</li>
<li>Restart your R session.
<ul>
<li>As a quick test, you can make sure that R and Python can communicate by typing the command <code>library(SnakeCharmR)</code>. This will will display the version of python you are using.</li>
</ul></li>
<li>SnakeCharmR wants to install the Python package <code>SymPy</code> and the latest macOS version does not allow this (installation of packages cannot be done system wide and has to be done on user level, or install as Adminstrator which may allow to install system wide). To do this on user level, open the terminal (in macOS or RStudio) and type: <code>pip install simpy --user</code> (the user flag is important!).</li>
<li>Another test to make sure that <code>SymPy</code> is setup appropriately is to do <code>library(RxODE)</code> and <code>rxSymPyVersion()</code>. This will display the <code>SymPy</code> version.</li>
<li>To validate or test the installation of <code>RxODE</code> completely, you can type the following <code>library(RxODE); rxTest()</code> and it will run all of the unit tests in RxODE to make sure it is running correctly on your system. (Note that the <code>testthat</code> package is required for this, and it will take a long time.) For a short test use <code>rxTest(FALSE)</code>.</li>
</ul>
<ol start="8" style="list-style-type: decimal">
<li>Install <code>nlmixr</code>.</li>
</ol>
<ul>
<li>This can be done by <code>install_github(&quot;nlmixrdevelopment/nlmixr&quot;)</code> or <code>install.packages('nlmixr')</code>.</li>
</ul>
<!-- docker installation  -->
</div>
<div id="installation-via-docker" class="section level3">
<h3><span class="header-section-number">2.1.5</span> Installation via Docker</h3>
<p>Docker is a tool designed to make it easier to create, deploy, and run applications by using so-called “containers”. Containers allow complex applications to be wrapped as packages, ensuring they will run on any computer or platform regardless of any customized settings that machine might have that could differ from the machine used for writing and testing the code (a little like virtual machines, but more lightweight and portable). This is very attractive in our case, since it allows all the complexity above to be sidestepped neatly, and in principle makes the results obtained more reproducible.</p>
<p>The first thing to do is install Docker. An installer is available for all major operating systems:</p>
<ul>
<li>Windows: <a href="https://docs.docker.com/docker-for-windows/install/" class="uri">https://docs.docker.com/docker-for-windows/install/</a></li>
<li>macOS: <a href="https://docs.docker.com/docker-for-mac/install/" class="uri">https://docs.docker.com/docker-for-mac/install/</a></li>
<li>Ubuntu Linux: <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/" class="uri">https://docs.docker.com/install/linux/docker-ce/ubuntu/</a></li>
</ul>
<p>Make sure you read the prequisites, but for most modern systems it is sufficient to download and run the installer.</p>
<ol style="list-style-type: decimal">
<li>Runnning the container</li>
</ol>
<p>To run a docker container you should use a terminal window (or command prompt in Windows).</p>
<p>The first time a container is run, it will donwload all applicable files from the repository. This can take some time depending on your internet speed. After the first time, the container will be saved locally and the machine will start almost immediately.</p>
<p>It is usually necessary to have access to your local drive, and this can be done by adding an option (-v) in the docker command. In the following example the folder <code>/Users/richard/Document</code> on the host computer will be mounted to the <code>docs</code> folder in the <code>/home/rstudio</code> directory of the container:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">docker</span> run -v /Users/richard/Documents/:/home/rstudio/docs -d -p 8787:8787 nlmixr/nlmixr:1.0</code></pre></div>
<p>The version above applies to Linux, but it’s easy to do in Windows as well, by making the appropriate adjustments in the “Shared Drives” tab of the Docker settings app (accessible by right-clicking the Docker whale icon in the Windows system tray). Note that you may need adjust your firewall settings to enable folder sharing, and that you’ll probably need administrator privileges.</p>
<p>Once the Docker container is running, you can go to a browser and go to the following URL:</p>
<p><code>localhost:8787</code></p>
<p>This will launch an RStudio Server instance hosted inside the container. If everything has gone correctly you will see an RStudio login screen. You can log in with username and password <strong>rstudio</strong>. If a local folder was mounted, you should be able to find this directly in the RStudio files pane.</p>
<p><strong>Note</strong>: In certain cases the localhost is not recognized and the url should be <code>127.0.0.1:8787</code></p>
<p><strong>Note</strong>: If you are using Docker Toolbox on Windows 7, use the Docker Machine IP instead of localhost. For example, <a href="http://192.168.99.100:8787/" class="uri">http://192.168.99.100:8787/</a>. To find the right IP address, the <code>ipconfig</code> command can be used from the Command Prompt.</p>
<p><strong>Note</strong>: In general, most modern browsers will work with RStudio Server. However, there might be some problems when running shiny apps. Both Chrome and Safari have been tested and should work correctly.</p>
<ol start="2" style="list-style-type: decimal">
<li>Stop the container</li>
</ol>
<p>Once you are done, or you would want to start another instance of the container, you can close the browser window and from the terminal the following can be done to stop all containers:</p>
<p><code>docker kill $(docker ps -q)</code></p>
<p><strong>Note</strong>: In case you want to stop a specific conatainer, you can list the running containers with <code>docker container ls</code> and close the specific container ID (e.g. <code>docker container stop 1fa4ab2cf395</code>).</p>
<p><strong>Note</strong>: In Windows it might be necessary to stop the container using Powershell; otherwise, the container can be stopped using Task Manager or through the Docker GUI.</p>
<!-- shinyMixR -->
</div>
</div>
<div id="project-management-tool-shinymixr" class="section level2">
<h2><span class="header-section-number">2.2</span> project management tool (<code>shinyMixR</code>)</h2>
<p>A user-friendly tool was developed for <code>nlmixr</code> based on <a href="http://shiny.rstudio.com/"><code>Shiny</code></a> and <a href="https://cran.r-project.org/web/packages/shinydashboard/shinydashboard.pdf"><code>shinydashboards</code></a>, which facilitates a workflow around an <code>nlmixr</code> project.</p>
<p>This <code>shinyMixR</code> package provides a means to build a project-centric workflow around <code>nlmixr</code> from the R command line and from a streamlined Shiny application. This project tool was developed to enhance the usability and attractiveness of nlmixr, facilitating dynamic and interactive use in real-time for rapid model development. More on the use of <code>ShinyMixR</code> in Chapter <a href="vignettes.html#interface">3.3</a>.</p>
<p>To install the package, use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;richardhooijmaijers/shinyMixR&quot;</span>)</code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="vignettes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
